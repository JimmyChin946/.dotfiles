#!/bin/bash
# Script to display battery status and percentage for i3blocks
# Usage: battery <BATTERY_ID> (e.g., battery BAT0)

BATTERY_ID=${1:-BAT0} # Default to BAT0 if no argument is given

STATUS=$(cat /sys/class/power_supply/${BATTERY_ID}/status)
CAPACITY=$(cat /sys/class/power_supply/${BATTERY_ID}/capacity)

if [ "$STATUS" = "Charging" ]; then
    ICON="ðŸ”Œ"
elif [ "$STATUS" = "Discharging" ]; then
    if (( CAPACITY <= 10 )); then
        ICON="ðŸª«" # Low battery icon
    elif (( CAPACITY <= 30 )); then
        ICON="ðŸ”‹"
    else
        ICON="ðŸ”‹"
    fi
elif [ "$STATUS" = "Full" ]; then
    ICON="ðŸ”‹"
else
    ICON="ðŸ”‹" # Default icon
fi

echo "${ICON} ${CAPACITY}%"
exit 0

